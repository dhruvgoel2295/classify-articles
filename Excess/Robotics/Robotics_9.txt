Robotics and Autonomous Systems 73 (2015) 68–77

Contents lists available at ScienceDirect

Robotics and Autonomous Systems
journal homepage: www.elsevier.com/locate/robot

A generalized control framework of assistive controllers and its
application to lower limb exoskeletons
Sehoon Oh a , Eunyoung Baek a , Seok-ki Song a , Samer Mohammed b , Doyoung Jeon a ,
Kyoungchul Kong a,∗
a

Department of Mechanical Engineering, Sogang University, 121-742 #1 Shinsu-dong Mapo-gu, Seoul, South Korea

b

Laboratoire Images, Signaux et Systèmes Intelligents (LISSI) at the Université Paris-Est Créteil, France

highlights
•
•
•
•

A generalized control framework is proposed to incorporate the various assistive control methods in one general controller structure.
The proposed control framework enables the continuous and smooth switching of assistive control algorithms.
The proposed control framework makes it possible to analyze the stability of the overall control loop.
The proposed method is implemented into a lower-limb exoskeleton robot and is verified by experimental results.

article

info

Article history:
Available online 18 October 2014
Keywords:
Lower limb exoskeleton
Assistive control
Hybrid control
Stability analysis
Gait phase
Impedance control
Disturbance observer
Impedance reduction control
Series elastic actuator

abstract
Various control methods have been studied for the natural assistance of human motions by exoskeletal
robots, i.e., wearable robots for assisting the human motions. For example, impedance control and
compliance control are widely used for controlling interaction forces between a human and a robot.
When an accurate measurement of the human muscular force is available (e.g., electromyography), a
direct use of the estimated human joint torque is possible in the control of an assistive robot. The human
motions in a daily living, however, are so complex that they are constituted by multiple phases, such as
walking, sitting, and standing, where the walking can be further categorized into multiple sub-phases.
Therefore, a single control method cannot be the best option for all the motion phases; a switch in
the control algorithms may be necessary for assisting human movements in multiple motion phases.
In this paper, a generalized control framework is proposed to incorporate the various assistive control
methods in one general controller structure, which consists of Feedforward Disturbance Compensation
Control, Reference Tracking Feedback Control, Reference Tracking Feedforward Control, Model-based
Torque Control. The proposed control framework is designed taking into consideration of the linearity
of each control algorithm, and thus it enables the continuous and smooth switching of assistive control
algorithms, and makes it possible to analyze the stability of the overall control loop. The proposed method
is implemented into a lower-limb exoskeleton robot and is verified by experimental results.
© 2014 Elsevier B.V. All rights reserved.

1. Introduction
Assisting elderly and dependent people by enhancing and
strengthening movement of the lower limbs has raised particular
attention due to the considerably increasing rate of this population, and exoskeletons are considered as one of the most potential assistive devices for this enhancement. The exoskeletons are

∗

Corresponding author.
E-mail addresses: sehoon74@sogang.ac.kr (S. Oh), baieunrong@sogang.ac.kr
(E. Baek), songsk@sogang.ac.kr (S.-k. Song), samer.mohammed@u-pec.fr
(S. Mohammed), dyjeon@sogang.ac.kr (D. Jeon), kckong@sogang.ac.kr (K. Kong).
http://dx.doi.org/10.1016/j.robot.2014.10.001
0921-8890/© 2014 Elsevier B.V. All rights reserved.

recently drawing large attention from the public as well as researchers [1]. Several companies have developed exoskeletons to
help paraplegic individuals walk and succeeded in commercializing them [2–5]. Even though those exoskeletons are still limited
in their functions and accessibility due to the expense, they can be
the most functional mechanical device to support and assist human
motions; they provide physical assistive torques for assistance and
rehabilitation of the aged people with muscular weaknesses or patients with physical impairments.
The difference of the required control strategy is mostly determined by the level of the muscle force that the wearer can generate,
e.g., the level of the required force that the assistive robot should

S. Oh et al. / Robotics and Autonomous Systems 73 (2015) 68–77

provide. In the case of power assistive control, which amplifies the
applied human force to achieve a certain task, the users are considered to be able to produce muscle power large enough to cause
motions, so that the controllers need to sense the users’ force and
amplify it. These control processes may be categorized as a kind of
impedance control, which changes the interaction force between a
human and the assistive robot so that the human does not feel large
inertial force when he or she does manipulations through the assistive robot. On the other hand, when the users’ ability to generate
force is relatively low (e.g., the rehabilitation case), the controller
needs to generate the force/position pattern by itself and the users
follow it with less muscular forces.
Both control strategies are required for the assistive controller
to provide natural and appropriate assistance to humans; the
former strategy is considered adequate to the case where arbitrary
motion is associated with, e.g., when a human manipulates various
stuffs to achieve certain tasks. The latter strategy can be adequate
for the case when the motion to be made is relatively small, and
large force is necessary, e.g., when a human needs to bear a heavy
load with little motion. Humans daily motion such as walking,
sitting, and standing consists of the combination of these different
cases, and therefore the controller for assistive devices such as
exoskeletons is required to be able to conduct both strategies as
well as switch the strategies according to the desired motions. In
other words, the assistive robots should be able to provide different
physical constraints and assistive torques based on the cases the
robots are facing [6–8].
A control method that occasionally switches its sub-level control algorithms, or at least controller gains, is called a hybrid
control method. The hybrid control scheme has been applied to
various assistive robots in recent years. For example, the HAL, a
full-body assistive robot developed with multiple purposes, uses
the hybrid control method that changes the control algorithms according to the motion phases while walking, where the motion
phases are detected by the ground reaction force patterns and
are classified by the type of muscular activities (e.g., active, passive, and free modes) [5]. The BLEEX also applies the hybrid control method [9] for assisting walking motions; the controller of
the BLEEX has two main sub-control algorithms, where the master–slave control method is activated in a stance phase, and the
sensitivity amplification control method is used in a swing phase.
The foot pressure patterns are also used in the BLEEX system for
detecting the motion phases. Similarly, the LOKOMAT also uses a
hybrid control method that alternately switches force-mode control and position-mode control according to motion phases for
rehabilitation purposes. The LOKOMAT also divides the walking
motion into two phases, the stance and swing phases, which are
detected by the knee and hip joint angles. In the force-mode control of the LOKOMAT, an impedance controller is realized in the
feedback and feedforward control structure, where the controlled
output is the interactive force between the human and the robot.
On the other hand, in the position-mode control the impedance of
the robotic leg is significantly increased for driving the motion of
the wearer [10].
Even though these hybrid control methods have been successfully implemented in various assistive robots and their performance has been proved in practice, there is no research that can
give a comprehensive viewpoint and insight including the stability of the switching of this hybrid control for assistive robots. In
particular, the stability of assistive robots is very critical, since it
is directly related to the safety of the wearer. Therefore, it is very
important to prove the stability and performance of the hybrid
control method of assistive robots not only in practice, but also
from the theoretical point of view. In order to address this problem,
this paper attempts to provide general and comprehensive viewpoint of the assistive controllers by proposing a generalized control

69

framework of assistive controllers. The proposed framework incorporates various control algorithms that can be adopted as an assistive controller and provides fundamentals for theoretically and
practically analyzing the stability and performance of a hybrid control method.
The paper is organized as follows. Section 2 categorizes control
algorithms that are widely utilized for the assistive robots and
incorporates them into a framework which can be a generalized
control framework for assistive controllers. A motion-phase-based
hybrid assistive control for walking is designed based on the
proposed framework in Section 3. The stability and robustness of
the control framework are analyzed taking into consideration the
switching between control algorithms in Section 4. Finally, the
proposed algorithm is verified through the experimental results in
Section 5.
2. Generalized control framework of assistive controllers
Fig. 1 shows a generalized control framework that can incorporate various assistive control algorithms. The proposed control
framework categorizes the general widely utilized control algorithms into Reference Tracking Feedback Control, Reference Tracking Feedforward Control, Feedforward Disturbance Compensation
Control, and Model-based Torque Control. The gains, K1,2,...,5 , are
the switching parameters that allow integration of the whole control algorithms and transition from one control scheme to another.

2.1. Feedforward Disturbance Compensation Control
This control is to compensate for the disturbances that can be
known or modeled beforehand. In an assistive robot equipped with
geared motor systems, the friction and damping are imposed on
the human body, which disturb not only the tracking performance
of the feedback controller but also the voluntary motion of the
wearer. In addition, the gravitational and inertial forces caused
by the mass of the robot hardware are another major factor that
distracts the human motion.
A simple yet effective friction and gravity compensation (FGC)
algorithm which can be given as (1) is the most commonly
used controller for Feedforward Disturbance Compensation Control [11–13].
u = c0 sign(θ˙ ) + c1 θ˙ + c2 sin(θ ),

(1)

where c0 , c1 , and c2 are the constant gains related to the magnitudes of the Coulomb friction, the viscous damping, and the gravitational inertia, respectively.

2.2. Reference Tracking Feedback Control
Reference Tracking Feedback Control can be designed by any
feedback control method, such as PID (proportional-integralderivative), H∞ , or sliding mode control which feeds back a
tracking error between a reference input and a controlled output
such that the output tracks the reference. The control does not
only guarantee tracking of the pre-determined trajectory, but also
changes the impedance of the robots.
PID (Proportional–Integral–Derivative) controller is the most
common form of Reference Tracking Feedback Control, which can
be also called natural admittance control (NAC) [14] since it affects
the impedance (or admittance) of the system.

70

S. Oh et al. / Robotics and Autonomous Systems 73 (2015) 68–77

Fig. 1. The proposed generalized control framework that incorporates various assistive control algorithms.

2.3. Reference Tracking Feedforward Control (FF)
Reference Tracking Feedforward Control can be designed to
improve reference tracking performance for assistive robots by
compensating for the time delay caused by gear chains and other
inherent mechanical or electrical dead time. The FF control method
also enables providing an actuation (i.e., assistive) force even prior
to the human motion without a causality problem. For this reason,
generation of the reference trajectory in advance is necessary.
Various methods are available for this purpose; e.g., the required
pattern of the torque can be calculated using the inverse dynamics
of the system [15,16], the EMG signal which precedes the voluntary
contraction of a muscle [17], and an iterative learning technique
that adopts information from the previous experiment such that
the future information is available [18,19]. Notice that Reference
Tracking Feedforward Control achieves reference tracking without
increasing the impedance of the robot.

Fig. 2. Disturbance observer.

2.4. Model-based Torque Control 1—Disturbance Observer (DOB)
Model-based Torque Control includes control algorithms that
use the dynamic characteristics of the target system (in the case of
the assistive robots, the human musculoskeletal system with the
robot hardware is the target system) and controls the driving force
directly using the model of the dynamics characteristics. Since
Model-based Torque Control can control the driving force directly,
any type of force control that does not use force sensors, such
as impedance reduction control, force-sensor-less power assist
control [20] and frequency shaped impedance control [21] can be
formulated as this Model-based Torque Control.
A disturbance observer (DOB) shown in Fig. 2 rejects a lumped
disturbance including an exogenous force. It is effective in the frequency bandwidth of a Q filter [22], which is the main tuning parameter of the overall DOB system. DOB controls the driving torque
that generates the acceleration of the robot based on a dynamic
model of the robot, and thus it rejects other external torque that
perturbs the acceleration. This is the reason why DOB is categorized into Model-based Torque Control in this framework. By removing external perturbing torque, DOB significantly increases the
impedance, and it is useful when the high impedance is desired in
the assistive robot system. The DOB also enables estimating the exogenous force (i.e., the interaction force between the robot and the
wearer) without any force sensors; it is useful for detecting the human intention.
2.5. Model-based Torque Control 2—Impedance Reduction Control
(IRC)
It should be noted that the human is able to perform certain motions by natural dynamics without any voluntary muscular forces.
In such cases, the inherent mechanical impedance of the robot

Fig. 3. Impedance reduction control.

must be rejected in order to guarantee the natural motion by the
dynamic characteristics of the human body [23].
For this purpose, impedance reduction control (IRC) has been
proposed, as shown in Fig. 3 [24]. The IRC is a feedback control
algorithm that reduces the magnitude of the impedance from the
motion input to the resistive force output, which corresponds to
the controlled output and the disturbance input in a typical control
system, respectively. Since IRC controls the driving torque that
affects the acceleration of the system, it is categorized into Modelbased Torque Control.
2.6. Incorporation of assistive control algorithms in the proposed
generalized framework
Most of the assistive robots [25,26,9,10,5] adopt the hybrid control, which combines these assistive controllers and switches the
controllers based on the motion phase, as the human muscles shift
their activity level according to the motion phase or event [27,28].
The control algorithms introduced above have different functionality, and each algorithm is an effective method for certain
motion phases and should be chosen based on the robot’s current motion phase to achieve the hybrid control. Such combination
and switching can be formulated and analyzed using the proposed
framework. Namely, the different control methods can be implemented into a single controller structure proposed in this paper.
For example, the DOB and the IRC are controllers for opposite
purposes, but both of them can be realized by the proposed control
framework without any change of model parameters or structures;
by changing the gains of K2 and K3 , the proposed control method

S. Oh et al. / Robotics and Autonomous Systems 73 (2015) 68–77

a

b

c

d

Fig. 4. The characteristics of the required assistive torque during walking.

switches the DOB and the IRC. For example, when K2 is set to 0 and
K3 is set to −q, the proposed method realizes the IRC. When both
K2 and K3 are set to 1, the proposed control method is equivalent
to the DOB.
It should be noticed that all the sub-level control systems introduced previously are well-established and widely used, and the
proposed framework formulates these control systems into a linear system so that various linear mathematical methodologies can
be applied to analyze the hybrid controlled system. The linearity is
the most significant feature that distinguishes the proposed control framework from other hybrid controllers [6–8] which employ
stochastic approaches or fuzzy approaches. Stability analysis and
robustness analysis based on this linearity will be given in the following section.
Consequently, the advantages of the proposed method are that
(1) a hybrid control law with different control schemes can be
realized by the change of scalar parameters, and (2) it enables
analyzing the stability of the overall control system even in the
presence of the controller switching.
3. Motion-phase-based walking assistive control based on the
generalized control framework
As an application of the proposed generalized control framework, a hybrid assistive control for assisting walking motions is
designed utilizing the proposed control framework in this section.
The following three points are achieved in this section.
1. The phase of walking is introduced and detected to provide the
condition based on which the impedance is determined.
2. The methodology to adjust the impedance based on the detected gait phase is designed.
3. The stability during impedance change is analyzed.
3.1. Phases in walking
Walking involves unique patterns called gait phases. The basic
divisions of the gait phases of walking are stance and swing [29,30].
These two motion phases can be easily recognized by comparing
the ground reaction force (GRF) of each foot. However, the human
gait is more complicated and the dynamics varies even in the same
stance motion. Therefore, it is divided into four functional patterns
developed in [31], as illustrated in Fig. 4. The characteristics of the
gait phases and the methodology to detect them are as follows.
3.1.1. Phase 1: Initial Contact
During the Initial Contact, the leg in Fig. 4 starts contacting
the ground, and the GRF appears only at the heel as shown in the
bottom of Fig. 4(a).

a

71

b

f

c

d

g

e

h

Fig. 5. Motion detection algorithm to detect walking motion phases: (a) sensors,
(b) membership functions, (c) rule bases, (d) scaling, (e) likelihoods of gait phases,
(f) measurement process, (g) defuzzification process and (h) normalization process.

3.1.2. Phase 2: Mid-Stance
When both the forefoot and heel start contacting the ground, as
shown in Fig. 4(b), the Mid-Stance phase starts.
3.1.3. Phase 3: Terminal Stance
As the center of body mass moves forward in the Terminal
Stance phase, the heel starts taking off, as shown in Fig. 4(c). In
this phase, only the forefoot part touches the ground.
3.1.4. Phase 4: Swing
The foot does not touch the ground so that there is no GRF measured by sensors.
3.2. Motion phase detection algorithm
A motion phase detection algorithm (MPDA) is designed based
on the gait phase detection algorithm in [31]. The MPDA is
based on a fact that the magnitude and acting position of the
GRF are different according to the motion phase. In this paper,
pressure sensors are utilized to measure the GRFs, and the MPDA
is implemented to detect the motion phase based on the measured
GRF. Fig. 5 shows the structure of the MPDA, which calculates the
likelihood of each motion phase (i.e., µ1,2,3,4 ) based on the pressure
sensor measurement and a fuzzy logic algorithm. The parameters
K1 to K5 are determined based on the likelihoods of the motion
phases obtained by the MPDA.
3.3. Design of hybrid assistive controller in the proposed control
framework
The knee joint torque during walking has different characteristics according to the motion phases: supporting of the body weight
and acceleration of the shank and foot. These different characteristics can be analyzed in terms of the impedance; high impedance is
required in a stance phase, and low impedance is necessary during
swinging.
Among control algorithms introduced in the previous section,
the NAC designs the impedance based on the PID gain; the
impedance generated by the NAC is proportional to its gains. The
DOB has very high impedance since it reacts against the exogenous
force to eliminate it in the force level up to the frequency band
decided by the Q filter. The IRC has low impedance and reduces
the system’s inherent impedance.
Based on these characteristics, Reference Tracking Feedback
Control and Model-based Torque Control of the proposed framework in Fig. 1 are determined as in Table 1. The switching of these

72

S. Oh et al. / Robotics and Autonomous Systems 73 (2015) 68–77

Table 1
Appropriate feedback control algorithms.
Motion phase

Control algorithms

Initial Contact

NAC (Reference Tracking Feedback Control)
DOB (Model-based Torque Control)

Mid-Stance

NAC (Reference Tracking Feedback Control)
DOB (Model-based Torque Control)

Terminal Stance

NAC (Reference Tracking Feedback Control)

Swing

IRC (Model-based Torque Control)

Table 2
Appropriate control algorithms for each motion phase.
Motion phase

K1

K2

K3

K4

K5

Walking (Initial Contact)
Walking (Mid-Stance)
Walking (Terminal Stance)
Walking (Swing)

1
1
0
0

1
1
0
0

1
1
0
−q

1
1
0
0

1
1
1
1

Fig. 6. Controller design with impedance decision parameter K .

control algorithms needs to occur according to the changes of
motion phases and should be continuous to prevent uncomfortable feeling. In order to address this problem, the switching gains,
K1,2,...,5 in Fig. 1, are determined as functions of the likelihoods of
the motion phases, i.e., µ1,2,3,4 .
In order to realize the different control schemes according to the
motions phases during walking, as in Table 1, the switching gains
are determined as
K 1 = µ1 + µ2

(2)

K 2 = µ1 + µ2

(3)

K3 = µ1 + µ2 − qµ4

(4)

K 4 = µ1 + µ2 .

(5)

µ’s are the likelihoods of the sub-phases during walking, the
sum of which is unity. The switching gain design in (2)–(5) using
the sum of several µ’s means that the switching gain and the
corresponding control algorithm will be switched on only during
the gait phases to which the µ’s are corresponding. Notice that
the sum of probability corresponds to the logical sum, OR, which
means that the summation of the likelihoods of several cases
covers the likelihood of the all the summed cases. K5 is set to 1
regardless of the phases, since the FGC is required for all the phases
during walking. Consequently, the weighting parameters are set as
in Table 2.
4. Analysis of the hybrid control based on the proposed control
framework
4.1. Stability analysis of the proposed hybrid control algorithm
Since the proposed hybrid assistive control has the timevarying weighting to switch the control algorithms, the stability of
the proposed control should be analyzed taking into account this
time-varying characteristic.
The change of the poles of the system according to the timevarying weighting is tracked to analyze the stability. If the poles
during the weight transition are all in the left-half plane, the system is stable regardless of the time-varying weighting.
As can be noticed from Table 2, the weighting parameter
changes can be categorized into two groups, whether the phase is
Initial Contact/Mid-Stance OR Swing. Based on this consideration,
the weighting parameters in Fig. 1 are re-organized as shown in
Fig. 6. Since the feedback stability is the main concern, the parameters K1 , K2 and K3 involved in the feedback loop are selected and
re-organized. These three parameters can be replaced with only
one weighting with different scaling.

Fig. 7. Root locus with the change of K . The roots start from the square to the x
mark by changing the parameter K from −1 to 1.

The following equations show how K1 , K2 and K3 are replaced
with a zero-mean uncertainty factor, K .


K1 =

K


K2 =

K


K3 =

K

1
2
1
2

+
+

1

(6)

2
1


(7)

2

1+q
2



+

1−q
2



,

(8)

where |K | ≤ 1. The variance of K1 and K2 that is from 0 to 1 and
the variance of K3 that is from −q to 1, which are the variance
required from Table 2 can be covered by this K . In other words,
the parameter K determines the impedance of the system in the
proposed hybrid assistive control.
With this parameter replacement, the system in Fig. 1 can be reformulated and re-arranged as the system in Fig. 6, and the stability
of the system in Fig. 6 can be analyzed in a more clear way than the
one in Fig. 1.
The location of the poles according to the transition of K is
examined and shown in Fig. 7, where the plant P is modeled as
1
which is from the identified dynamics of the experi0.245s+0.212

mental setup, the nominal plant model Pn is set to 0.3s1+0.3 , which
is slightly different from the actual plant, Q filter of DOB and IRC
is set to 1 1
, and the feedback controller C is set to a propor2π ·10

s+1

tional–integral (PI) controller with the P gain of 10 and the I gain
of 1.
In Fig. 7 all the poles are on the left-half plane regardless of the
value of K , which shows that the proposed hybrid assistive control
is stable if the rate of K is acceptably slow. There are four poles
in the system, one of which is from the integral control and, which
are located on the origin, 0. The location of integrator pole does not
move significantly and its loci does not apparently appear in Fig. 7.

S. Oh et al. / Robotics and Autonomous Systems 73 (2015) 68–77

73

Fig. 9. Linear fractional transformation of the proposed control framework.
Fig. 8. Proposed control framework with generalized inputs and outputs.

The other three poles are from the Q filter and the plant with
the feedback of the inverse model. The transition of these two
poles appears mainly in Fig. 7. These poles shift farther from the
origin by increasing K from 0 to 1, which means the impedance
becomes larger when K becomes close to 1. This result validates
that the proposed hybrid assistive control changes the impedance
of system in a stable way.
4.2. Analysis of robustness against modeling error
In the proposed generalized control framework, Model-based
Torque Control requires a model of an augmented system of the
human and a robot, and the performance and stability of the assistive control may be affected by the model change. The exoskeleton
to be modeled consists of complex mechanical systems, such as the
assistive robotic system and human musculoskeletal system, and
thus there can be a variety of approaches to model the exoskeleton.
The linear time invariant (LTI) model adopted in this paper can take
into consideration the nonlinearities as a modeling error, and use it
for evaluating the stability and performance of the overall system
in a practical setting; robustness can also be theoretically evaluated using Small Gain Theorem [32], since the model and control
algorithms in the proposed control framework are linear.
For application of Small Gain Theorem, the proposed control
framework can be re-formulated as a lower fractional transformation (LFT) form shown in Figs. 8 and 9. The switching gain is extracted from the algorithm by treating it as a feedback gain with
the generalized outputs y1 and y2 and the inputs u1 and u2 .
In order to introduce a modeling error for robustness analysis,
a multiplicative modeling error is considered (9).
P (s) = Pn (s)(1 + ∆p (s))

(9)

With this augmentation, the proposed general control framework
can be formulated into the closed LFT as shown in Fig. 9.
The feedback gain Km is set to


Km =

K
0

0
K



∈ R2×2 .

(10)

According to Small Gain Theorem, the robust stability is guaranteed, when the following condition is met.



T (s)∆p (s)

∞

< 1,

(11)

where T (s) is the complementary sensitivity function, which is the
transfer function from w to z in Fig. 8, and ∆p (s) is the multiplicative modeling error defined in (9).
The nominal model obtained from the system identification
experiment is as follows:
P n ( s) =

1
0.245s + 0.212

=

1
Jn s + Bn

,

(12)

Fig. 10. Complimentary sensitivity function T (s) with regard to the change of K .

where 0.245 kg m2 is the nominal inertia value, Jn , and 0.212 N m s
is the nominal damping value, Bn of the knee joint.
For the identification experiments, swept sinusoidal signals
were applied to the knee joint actuator of the exoskeleton by itself
without any human body segments. Based on the values obtained
from the experiments, the nominal values in (12) are derived
taking into consideration of the physical characteristics such as the
mass and damping of the shank and the foot [33,34].
The actual inertial value and damping value can differ from
these values depending on the user and the condition; the inertia value can change when the mass of the shank changes and the
damping value can also change based on the condition of the knee
joint. The modeling error caused by these changes can be described
as the multiplicative modeling error based on the following equation.

∆p (s) =

P (s) − Pn (s)
Pn (s)

,

(13)

where P (s) is the actual dynamics and Pn (s) represents the nominal
model.
In order to guarantee the stability in the presence of these
modeling errors, the controlled system should meet the condition
in (11), where T (s) represents the complimentary sensitivity
function of the system. Due to the time-varying switching gain K
in the proposed control framework, T (s) also changes based on the
K value. However, the robust stability can still be evaluated based
on the condition in (11), when the rate of K is assumed to be slow.
Fig. 10 shows the frequency characteristics of T (s) with regard to
the change of K , the magnitude of which should be less than the
1
magnitude of ∆−
p (s) to meet the robust stability condition.
During the swing phase, when K is set to −1 to realize low
impedance, the actual inertia value can change due to the change

74

S. Oh et al. / Robotics and Autonomous Systems 73 (2015) 68–77

1
Fig. 11. Robustness analysis using ∆−
p (s) based on potential inertia and damping
changes (swing phase).

of the shank mass or co-contraction of the knee joint, and thus the
variance of the inertia value is comparatively low compared to the
stance phase. As mentioned previously, the actual dynamics of the
target plant varies according not only to the condition of the user,
but also to the motion phase.
Therefore, the possible ∆P (s) can be set considering less
variance in J during the swing phase. Fig. 11 is the frequency
characteristics of the potential multiplicative modeling error with
regard to the nominal model in (12) during the swing phase, where
the range of the inertia value is from 0.2 to 0.5 kg m2 (which
corresponds to the range of the link mass from 5 to 12 kg with
0.35 m of the link length), and the range of damping value is from
0.2 to 0.5 N m s. The thick solid line is T (jw) for K = −1, and it is
1
shown that |T (jw)| < |∆−
p (jw)| for all w ∈ R, which shows that
the proposed controller is stable in the presence of the modeling
error.
The robust stability during the stance phase, where K = 1 can
be validated in the same way. Compared to the swing phase, the
change of the inertia can become larger, since the knee joint torque
is transmitted to the thigh and also the trunk during the stance
phase. For this reason, the range of the inertia can be from 0.2 to
25 kg m2 (which corresponds to the range of the link mass from 5
to 60 kg with 0.35 m of the link length, that is more than the actual
variance in practice). Fig. 12 is the frequency characteristics of the
potential multiplicative modeling error taking into consideration
this inertia change. The thick solid line is the magnitude of T (jw)
1
for K = 1, and it is shown that |T (s)| < |∆−
p (s)| for all w ∈ R,
which shows that the proposed controller is stable in the presence
of the modeling error during the stance phase too.

1
Fig. 12. Robustness analysis using ∆−
p (s) based on potential inertia and damping
changes (stance phase).

Fig. 13. Assistive robot with cRSEA [35].

5. Experimental verification
Fig. 14. Smart shoe to measure GRF.

Experiments to validate the effectiveness of the proposed control framework were conducted. Two points were verified in the
experiments.
1. Different impedance can be achieved in the proposed control
framework.
2. Hybrid control designed based on the proposed control framework successfully assist human’s walking.

lower-extremity assistive robot with four cRSEA installed on two
hip joints and two knee joints, only knee joints were utilized in this
experiments. The specification in detail can be referred to [35].
The GRF was measured using the smart shoes which have silicone tubes rolled at the toe and the heel as in Fig. 14. The airpressures at the toe and heel were measured and processed
through the fuzzy logic in Fig. 5 to detect the gait phase [31].

5.1. System configuration: a knee joint assistive robot

5.2. Impedance adjustment by the proposed control framework

A knee joint assistive robot in Fig. 13 was used for the experiment. The robot consists of Compact Series Elastic Actuator (cRSEA)
modules which realizes the torque-mode assistive control with
zero impedance on the joints [36]. Even though the robot is a full

The performance of the proposed control framework to incorporate the variable impedance was verified by experiments. A human subject was asked to sit on a chair and to apply knee joint
torque to raise the shank, while two different sets of parameters,

S. Oh et al. / Robotics and Autonomous Systems 73 (2015) 68–77

a

assistive torque input
estimated external force

+ 14.49 cos
+ 4.9 cos

b

c

assistive torque input

estimated external force

d

Fig. 15. Realization of different impedance characteristics by the proposed control
framework ((a) estimated human torque with K2 = 1, K3 = 1, (b) knee joint angle
with K2 = 1, K3 = 1, (c) estimated human torque with K2 = 0, K3 = −0.2, (d)
knee joint angle with K2 = 0, K3 = −0.2).

i.e. K2 = 1, K3 = 1 (which is DOB) and K2 = 0, K3 = −0.2 (which
is IRC), were set on the proposed control framework.
Fig. 15 shows the result with the external torques estimated
by DOB (the gray dashed line in (a) and (c), mainly generated by
human’s muscles), the reaction torque by the motor (black solid
line in (a) and (c)) and the knee joint angle ((b) and (d)) which are
the output of these force and impedance.
When K2 = 1, K3 = 1, the motion of the knee joint angle is
slow, and large amount of human torque is demanded to generate
that motion. On the other hand the motion of the joint angle is
faster and larger with small and short human torque with the
parameter setting K2 = 0, K3 = −0.2. This result shows that
the proposed control framework could successfully realize the
various desired impedance characteristic. Using these different
impedances, the assistance of walking is achieved in the following
section.
5.3. Hybrid assistive control for assisting walking
Fig. 16 shows the experimental results where a subject wearing
the assistive robot walked two steps with the control algorithm
developed in Section 3 based on the proposed framework.
The reference knee joint angle given in (14) which gives a whole
trajectory starting from the Initial Contact was calculated based on
the walking data obtained from 3 subjects. Using the period Tpr
given from the time period of the previous step, (14) can generate
r
a real-time reference angle for the knee joint θknee
(t ).

θ

r
knee

(t ) = 20.19 + 18.15 cos



t
Tprv

+ 1.72



75





2t
Tpr

3t
Tpr



− 2.46


− 1.54 .

(14)

Fig. 16(a) shows the reference angle and the measured angle. Since
the assistive control does not require high precision, the errors in
the angle are acceptable for assistive control.
The phases of the walking were detected as in Fig. 16(d), and
the weighting parameters K2 and K3 also were determined as in
Fig. 16(e) based on (3) and (4). Fig. 16(c) is the output of Modelbased Torque Control which is switched by K2 and K3 . The result
verifies that the outputs of DOB and IRC which are shown in
Fig. 16(b) were switched continuously enough not to generate any
jerky torque input. This shows that the switching by the proposed
weighting parameter can provide continuity in control input in a
practical level.
Model-based Torque Control input in Fig. 16(c) also shows
that the proposed control algorithm could successfully adjust the
impedance of the assistive torque based on the motion phases.
During Mid-Stance phase (from 2.5 to 3.5 s and from 8 to 9 s),
Model-based Torque Control generated resistive torque to support
body weight, since the output generated the negative torque which
is the direction to extend the knee joint while the knee joint was
flexing. On the other hand, Model-based Torque Control provided
the positive torque during the swing phase which accelerated the
flexion of the knee joint.
The necessity of this change in impedance can be verified
by the estimated external force (which is considered the same
with the output of DOB in Fig. 16(b)). The external torque (which
is the direction to flex the knee joint) during the stance phase
results from the body weight, and the high impedance by DOB
could generate the resistive torque to support this body weight.
The external torque during the swing phase was positive to flex
the knee joint and became negative to extend the joint. The low
impedance by IRC could assist the external force by generating the
torque in the same direction.
By this experiment, it is shown that the proposed control framework could provide the continuous and safe switching impedance
that is required for the assistance of walking.
6. Conclusion
In this paper, a generalized control framework that can incorporate various well-established control algorithms was proposed.
The control characteristics of this framework were determined by
adjusting weighting parameters which allows for continuous and
intuitive switching of control algorithms. The most significant contribution of the proposed control framework is to open a road for
well-established control algorithms to be integrated in a linear way
so that it can be analyzed and utilized for the exoskeleton robots
as a hybrid controller. Utilizing this feature, the stability during the
switching parameters was validated, and the robustness against
the modeling error was analyzed. The proposed control frameworks was applied to lower limb exoskeleton during the walking
motion as a hybrid assistive controller. The weighting parameters
are determined by the detected motion phases using the ground
reaction forces. The performance of the proposed control was verified by experiments.
Since the proposed control framework has a generalized platform, it can be applied to not only the various assistive control
fields, especially wearable robotics, but also any complicated control field that needs hybrid control with appropriate sensor systems.

76

S. Oh et al. / Robotics and Autonomous Systems 73 (2015) 68–77

a

b

c

d

e

Fig. 16. Assistive control experimental result ((a) knee joint angle (reference and measurement), (b) output of DOB and IRC, (c) the output of Model-based Torque Control,
(d) likelihood of phases, (e) weighting parameters).

Acknowledgments
This work was supported by the National Research Foundation
of Korea (NRF) grant funded by the Korea government (MSIP)
(NRF—2014K1A3A1A21001105) and PHC STAR 2014—PROJET N
32173QA. Part of this work is to be presented in IEEE International
Conference on Robotics and Automation (ICRA) 2014.
References
[1] S. Viteckova, P. Kutilek, M. Jirina, Wearable lower limb robotics: A review,
Biocybern. Biomed. Eng. 33 (2) (2013) 96–105. http://dx.doi.org/10.1016/j.bbe.
2013.03.005.
[2] Ekso Bionics, 2014. http://eksobionics.com/ [Online; accessed Jan.-2014].
[3] Rex Bionics, 2014. http://www.rexbionics.com/ [Online; accessed Jan.-2014].
[4] L. Mertz, The next generation of exoskeletons: Lighter, cheaper devices are
in the works, IEEE Pulse 3 (4) (2012) 56–61. http://dx.doi.org/10.1109/MPUL.
2012.2196836.
[5] H. Kawamoto, Y. Sankai, Power assist method based on phase sequence driven
by interaction between human and robot suit, in: 13th IEEE International
Workshop on Robot and Human Interactive Communication, 2004. ROMAN
2004, 2004, pp. 491–496. http://dx.doi.org/10.1109/ROMAN.2004.1374809.
[6] A. Dutta, K. Koerding, E. Perreault, L. Hargrove, Sensor-fault tolerant control
of a powered lower limb prosthesis by mixing mode-specific adaptive Kalman
filters, in: 2011 Annual International Conference of the IEEE Engineering in
Medicine and Biology Society, EMBC, 2011, pp. 3696–3699. http://dx.doi.org/
10.1109/IEMBS.2011.6090626.

[7] E. Corbett, K. Kording, E. Perreault, Real-time evaluation of a noninvasive
neuroprosthetic interface for control of reach, IEEE Trans. Neural Syst. Rehabil.
Eng. 21 (4) (2013) 674–683. http://dx.doi.org/10.1109/TNSRE.2013.2251664.
[8] K. Kiguchi, T. Tanaka, T. Fukuda, Neuro-fuzzy control of a robotic exoskeleton
with EMG signals, IEEE Trans. Fuzzy Syst. 12 (4) (2004) 481–490. http://dx.doi.
org/10.1109/TFUZZ.2004.832525.
[9] H. Kazerooni, R. Steger, L. Huang, Hybrid control of the berkeley lower
extremity exoskeleton (BLEEX), Int. J. Robot. Res. 25 (5–6) (2006) 561–573.
http://dx.doi.org/10.1177/0278364906065505.
[10] M. Bernhardt, M. Frey, G. Colombo, R. Riener, Hybrid force-position control
yields cooperative behaviour of the rehabilitation robot lokomat, in: 9th
International Conference on Rehabilitation Robotics, 2005. ICORR 2005, 2005,
pp. 536–539. http://dx.doi.org/10.1109/ICORR.2005.1501159.
[11] S. Banala, A. Kulpe, S. Agrawal, A powered leg orthosis for gait rehabilitation of
motor-impaired patients, in: 2007 IEEE International Conference on Robotics
and Automation, 2007, pp. 4140–4145. http://dx.doi.org/10.1109/ROBOT.
2007.364115.
[12] S. Banala, S. Agrawal, J. Scholz, Active leg exoskeleton (ALEX) for gait
rehabilitation of motor-impaired patients, in: IEEE 10th International
Conference on Rehabilitation Robotics, 2007. ICORR 2007, 2007, pp. 401–407.
http://dx.doi.org/10.1109/ICORR.2007.4428456.
[13] A. Duschau-Wicke, J. von Zitzewitz, A. Caprez, L. Lunenburger, R. Riener, Path
control: A method for patient-cooperative robot-aided gait rehabilitation, IEEE
Trans. Neural Syst. Rehabil. Eng. 18 (1) (2010) 38–48. http://dx.doi.org/10.
1109/TNSRE.2009.2033061.
[14] E. Colgate, N. Hogan, An analysis of contact instability in terms of passive
physical equivalents, in: 1989 IEEE International Conference on Robotics and
Automation, 1989. Proceedings, vol. 1, 1989, pp. 404–409. http://dx.doi.org/
10.1109/ROBOT.1989.100021.
[15] T.-J. Yeh, M.-J. Wu, T.-J. Lu, F.-K. Wu, C.-R. Huang, Control of Mckibben
pneumatic muscles for a power-assist, lower-limb orthosis, Mechatronics 20
(6) (2010) 686–697.

S. Oh et al. / Robotics and Autonomous Systems 73 (2015) 68–77
[16] M. Pietrusinski, I. Cajigas, G. Severini, P. Bonato, C. Mavroidis, Robotic gait
rehabilitation trainer, IEEE/ASME Trans. Mechatronics 19 (2) (2014) 490–499.
http://dx.doi.org/10.1109/TMECH.2013.2243915.
[17] S. Mohammed, Y. Amirat, Towards intelligent lower limb wearable robots:
Challenges and perspectives—state of the art, in: IEEE International Conference
on Robotics and Biomimetics, 2008. ROBIO 2008, 2009, pp. 312–317.
http://dx.doi.org/10.1109/ROBIO.2009.4913022.
[18] C. Freeman, E. Rogers, A. Hughes, J. Burridge, K. Meadmore, Iterative learning
control in health care: Electrical stimulation and robotic-assisted upper-limb
stroke rehabilitation, IEEE Control Syst. 32 (1) (2012) 18–43. http://dx.doi.org/
10.1109/MCS.2011.2173261.
[19] J. Bae, M. Tomizuka, A gait rehabilitation strategy inspired by an iterative
learning algorithm, Mechatronics 22 (2) (2012) 213–221.
[20] S. Oh, K. Kong, Y. Hori, Design and analysis of force-sensor-less power-assist
control, IEEE Trans. Ind. Electron. 61 (2) (2014) 985–993. http://dx.doi.org/10.
1109/TIE.2013.2270214.
[21] S. Oh, H. Woo, K. Kong, Frequency-shaped impedance control for safe
human–robot interaction in reference tracking application, IEEE/ASME Trans.
Mechatronics 19 (6) (2014) 1907–1916. http://dx.doi.org/10.1109/TMECH.
2014.2309118.
[22] T. Umeno, Y. Hori, Robust speed control of dc servomotors using modern two
degrees-of-freedom controller design, IEEE Trans. Ind. Electron. 38 (5) (1991)
363–368. http://dx.doi.org/10.1109/41.97556.
[23] B. Vanderborght, A. Albu-Schaeffer, A. Bicchi, E. Burdet, D. Caldwell, R. Carloni,
M. Catalano, O. Eiberger, W. Friedl, G. Ganesh, M. Garabini, M. Grebenstein, G.
Grioli, S. Haddadin, H. Hoppner, A. Jafari, M. Laffranchi, D. Lefeber, F. Petit, S.
Stramigioli, N. Tsagarakis, M.V. Damme, R.V. Ham, L. Visser, S. Wolf, Variable
impedance actuators: A review, Robot. Auton. Syst. 61 (12) (2013) 1601–1614.
http://dx.doi.org/10.1016/j.robot.2013.06.009.
[24] H. Woo, K. Kong, Controller design for mechanical impedance reduction,
IEEE/ASME Trans. Mechatronics 20 (2) (2014) 845–854. http://dx.doi.org/10.
1109/TMECH.2014.2312795.
[25] M.A.M. Dzahir, S.-i. Yamamoto, Recent trends in lower-limb robotic rehabilitation orthosis: Control scheme and strategy for pneumatic muscle actuated gait trainers, Robotics 3 (2) (2014) 120–148. http://dx.doi.org/10.3390/
robotics3020120.
[26] S. Mohammed, P. Poignet, P. Fraisse, D. Guiraud, Optimal stimulation patterns
for knee joint movement restoration during co-contraction of antagonist
muscles, in: 2010 3rd IEEE RAS and EMBS International Conference on
Biomedical Robotics and Biomechatronics (BioRob), 2010, pp. 687–692.
http://dx.doi.org/10.1109/BIOROB.2010.5626111.
[27] Y.P. Ivanenko, R.E. Poppele, F. Lacquaniti, Five basic muscle activation patterns
account for muscle activity during human locomotion, J. Physiol. 556 (1)
(2004) 267–282.
[28] G. Albani, G. Sandrini, G. Kunig, C. Martin-Soelch, A. Mauro, R. Pignatti, C.
Pacchetti, V. Dietz, K.L. Leenders, Differences in the EMG pattern of leg muscle
activation during locomotion in Parkinson’s disease, Funct. Neurol. 18 (3)
(2003) 165–178.
[29] B. Lawson, H. Varol, M. Goldfarb, Standing stability enhancement with an
intelligent powered transfemoral prosthesis, IEEE Trans. Biomed. Eng. 58 (9)
(2011) 2617–2624. http://dx.doi.org/10.1109/TBME.2011.2160173.
[30] M. Goršič, R. Kamnik, L. Ambrožič, N. Vitiello, D. Lefeber, G. Pasquini, M.
Munih, Online phase detection using wearable sensors for walking with a
robotic prosthesis, Sensors 14 (2) (2014) 2776–2794. http://dx.doi.org/10.
3390/s140202776.
[31] K. Kong, M. Tomizuka, A gait monitoring system based on air pressure sensors
embedded in a shoe, IEEE/ASME Trans. Mechatronics 14 (3) (2009) 358–370.
http://dx.doi.org/10.1109/TMECH.2008.2008803.
[32] J. Doyle, B. Francis, A. Tannenbaum, Feedback Control Theory, Vol. 134,
Macmillan, New York, 1992.
[33] D. Winter, Biomechanics and Motor Control of Human Movement, Wiley,
2004.
[34] V. Zatsiorsky, On muscle and joint viscosity, Motor Control 1 (1997) 299–309.
[35] B. Na, J. Bae, K. Kong, Back-drivability recovery of a full lower extremity
assistive robot, in: 2012 12th International Conference on Control, Automation
and Systems, ICCAS, 2012, pp. 1030–1034.
[36] K. Kong, J. Bae, M. Tomizuka, A compact rotary series elastic actuator for human
assistive systems, IEEE/ASME Trans. Mechatronics 17 (2) (2012) 288–297.
http://dx.doi.org/10.1109/TMECH.2010.2100046.

Sehoon Oh (S’05–M’06) received the B.S., M.S., and Ph.D.
degrees in Electrical Engineering from The University of
Tokyo, Tokyo, Japan, in 1998, 2000, and 2005, respectively.
He worked as an Assistant Professor at The University
of Tokyo until 2012 and worked as a Senior Researcher
at Samsung Heavy Industries from 2012 to 2013. He was
a Visiting Researcher at the University of Texas at Austin
from 2010 to 2011. He is currently a Research Professor at
Sogang University, Korea.
His research interests include the development of
human-friendly motion control algorithms and assistive
devices for people.

77

Eunyoung Baek received her B.S. degree from the Department of Mechanical Engineering, Sogang University, 2013.
She is currently pursuing her M.S.-Ph.D. degree in the same
institution. Her research interest includes control theory
and signal processing.

Seok-ki Song received his B.S. degree from the Department of Mechanical Engineering, Sogang University, 2013.
He is currently pursuing his M.S. degree in the same institution. His research interest includes human assistive
robotics and mechanism design.

Samer Mohammed received the Diploma degree in
Electrical Engineering from Lebanese University, Tripoli,
Lebanon, the M.S. degree in Automatic and Microelectronic Systems from the University of Montpellier II, Montpellier, France, and the Ph.D. degree in Computer Science
from the Laboratory of Computer Science, Robotic and Microelectronic of Montpellier (LIRMM/CNRS), Montpellier.
He is currently an Assistant Professor of Computer Science
with the Laboratory of Image, Signal and Intelligent Systems, University of Paris-Est Créteil, Créteil, France. His
current research interests include modeling, identification, and control of robotic systems (wearable robots), artificial intelligence, and
decision-support theory. His current research involved the applications for the
functional assisting of dependent people.
He was the recipient of the Fellowship Award from the Japan Society for the
Promotion of Science, the French Ministerial Doctoral Research Scholarship Award,
and the École Polytechnique Fédéral de Lausanne Scholarship Award. He is actively
involved in organizing committees of some national and international workshops
in the field of wearable/bio-inspired robotics.

Doyoung Jeon received the B.S. degree from Seoul
National University, Seoul, Korea, in 1984 and the M.S.
and Ph.D. degrees from the University of California,
Berkeley, in 1986 and 1991, respectively, all in Mechanical
Engineering. In 1994, he joined the Department of
Mechanical Engineering, Sogang University, Seoul, where
he was the Dean of Research from 2004 to 2005. His
current research interests include the general areas of
control systems, such as exoskeletal robots, rehabilitation
robots, capsule endoscopes, and servo control of advanced
manufacturing machines.
He was a committee member of the Korean Presidential Advisory Council on
Science and Technology from 2005 to 2006 and the Korean Presidential Commission
on Policy Planning from 2002 to 2008.

Kyoungchul Kong (S’4–M’9) received the B.Eng. degree in
Mechanical Engineering (summa cum laude), the B.S. degree in Physics in 2004, and the M.S. degree in Mechanical
Engineering in 2006, all from Sogang University, Seoul, Korea, and the Ph.D. degree in Mechanical Engineering from
the University of California, Berkeley, in 2009.
In 2011, he joined the Department of Mechanical Engineering, Sogang University, Seoul, Korea. He has authored
or coauthored more than 70 technical articles in journals
and conference proceedings in the area of mechatronics,
including locomotive robotics and human robot interactive systems. His current research interests include design, modeling, and control
of mechatronic systems with emphasis on locomotion and mobility of robotic systems.
He was the recipient of the Best Student Paper Award at the IEEE Conference on
Advanced Intelligent Mechatronics (AIM) in 2008 and the Best Paper Award in the
Division of Dynamic Systems and Control at the KSME Annual Conference in 2005.

